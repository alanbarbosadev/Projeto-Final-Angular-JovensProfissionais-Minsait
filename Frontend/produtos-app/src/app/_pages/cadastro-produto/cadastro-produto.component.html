<h4 class="ms-5">Cadastrar Produto</h4>
<hr class="mx-5" />
<div class="mb-5"></div>

<form [formGroup]="cadastroProdutoForm">
  <div class="container mt-5">
    <div class="row mb-3">
      <label class="form-label fw-bold">Código de Barras</label>
      <input type="text" class="form-control" formControlName="codigoBarras" />
      <div
        *ngIf="
          cadastroProdutoForm.get('codigoBarras')?.invalid &&
          cadastroProdutoForm.get('codigoBarras')?.touched
        "
      >
        <small
          class="text-danger"
          *ngIf="cadastroProdutoForm.get('codigoBarras')?.errors?.['required']"
          >Campo obrigatório!</small
        >
        <small
          class="text-danger"
          *ngIf="cadastroProdutoForm.get('codigoBarras')?.errors?.['minlength']"
          >O código de barras do produto deve ter ao menos 5 caracteres</small
        >
      </div>
    </div>
    <div class="row mb-3">
      <label class="form-label fw-bold">Nome</label>
      <input type="text" class="form-control" formControlName="nome" />
      <div
        *ngIf="
          cadastroProdutoForm.get('nome')?.invalid &&
          cadastroProdutoForm.get('nome')?.touched
        "
      >
        <small
          class="text-danger"
          *ngIf="cadastroProdutoForm.get('nome')?.errors?.['required']"
          >Campo obrigatório!</small
        >
        <small
          class="text-danger"
          *ngIf="cadastroProdutoForm.get('nome')?.errors?.['minlength' || 'maxlength']"
          >O nome do produto deve ter entre 3 e 50 caracteres</small
        >
      </div>
    </div>
    <div class="row mb-5">
      <label class="form-label fw-bold">Preço</label>
      <input type="number" class="form-control" formControlName="preco" />
      <div
        *ngIf="
          cadastroProdutoForm.get('preco')?.invalid &&
          cadastroProdutoForm.get('preco')?.touched
        "
      >
        <small
          class="text-danger"
          *ngIf="cadastroProdutoForm.get('preco')?.errors?.['required']"
          >Campo obrigatório!</small
        >
        <small
          class="text-danger"
          *ngIf="cadastroProdutoForm.get('preco')?.errors?.['min']"
          >O Preço deve ser maior que 0</small
        >
      </div>
    </div>
    <div class="row">
      <div class="col-4">
        <button
          class="btn btn-primary me-2 mb-2"
          (click)="cadastrarProduto()"
          [disabled]="!cadastroProdutoForm.valid"
        >
          Cadastrar
        </button>
        <button class="btn btn-danger mb-2" (click)="cancelar()">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</form>
